(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,a){},67:function(e,t,a){e.exports=a(93)},72:function(e,t,a){},73:function(e,t,a){},89:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(23),l=a.n(o),r=(a(72),a(18)),s=a(19),i=a(21),m=a(20),u=a(25),d=a(13),p=(a(73),a(29)),h=a(64),E=a(95),f=a(117),g=a(96),b=a(97),v=a(98),N=a(99),y=a(100),w=a(101),k=a(102),j=function(e){var t=e.buttonLabel,a=e.className,o=Object(h.a)(),l=o.register,r=o.handleSubmit,s=Object(n.useState)(!1),i=Object(p.a)(s,2),m=i[0],u=i[1],d=function(){return u(!m)},j=c.a.createElement("button",{className:"close",onClick:d},"\xd7");return c.a.createElement("div",null,c.a.createElement(E.a,{size:"lg",color:"outline-warning",onClick:d},t,"Admin Login"),c.a.createElement(f.a,{isOpen:m,toggle:d,className:a},c.a.createElement(g.a,{toggle:d,close:j},"Admin Login"),c.a.createElement(b.a,{onSubmit:r((function(e){console.log(e),fetch("https://stackhack-api.herokuapp.com/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("Successfully logged in"),window.sessionStorage.setItem("key",e.access_token),window.location.href="/Event-Management-Webapp/#/admin"})).catch((function(e){console.error("Error:",e)}))}))},c.a.createElement(v.a,null,c.a.createElement(N.a,{row:!0},c.a.createElement(y.a,{for:"exampleEmail",sm:2},"Email"),c.a.createElement(w.a,{sm:10},c.a.createElement("input",{className:"form-control",type:"email",name:"username",id:"Email",placeholder:"username@example.com",defaultValue:"",ref:l({required:!0,maxLength:30})}))),c.a.createElement(N.a,{row:!0},c.a.createElement(y.a,{for:"examplePassword",sm:2},"Password"),c.a.createElement(w.a,{sm:10},c.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"Password",placeholder:"password",ref:l({required:!0,maxLength:30})})))),c.a.createElement(k.a,null,c.a.createElement("input",{className:"btn btn-success",type:"submit",name:"login",value:"Login"})))))},O=function(){return c.a.createElement("div",{className:"lp"},c.a.createElement("div",{className:"row justify-content-end mr-4 pt-2"},c.a.createElement(j,null)),c.a.createElement("header",{id:"showcase"},c.a.createElement("div",{className:"container showcase-content"},c.a.createElement("h1",null,"StackHack 1.0"),c.a.createElement("br",null),c.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, quasi quam tenetur exercitationem sint suscipit ipsum in pariatur officiis mollitia!"),c.a.createElement(u.b,{to:"/register",className:"bttn",style:{textDecoration:"none",color:"inherit"}},"Register Now!"))))},C=a(12),S=a(103),L=a(104),x=a(105),_=function(){return c.a.createElement("div",{className:"col-6 col-md-3"},c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar-header"},c.a.createElement("h3",null,"Admin Dashboard")),c.a.createElement("div",{className:"side-menu"},c.a.createElement(S.a,{vertical:!0,className:"list-unstyled pb-3"},c.a.createElement(L.a,{className:"navitem"},c.a.createElement(x.a,{className:"navlink",tag:u.b,to:"/admin"},"Dashboard"),c.a.createElement(x.a,{className:"navlink",tag:u.b,to:"/admin/stats"},"Stats")),c.a.createElement("center",{className:"mt-2 p-2"},c.a.createElement(E.a,{outline:!0,color:"danger",onClick:function(e){window.sessionStorage.removeItem("key"),window.location.href="/Event-Management-Webapp/#/"}},"Logout"))))))},D=a(106),R=a(107),T=a(108),A=a(109),I=(a(89),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={data:[],page:1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://stackhack-api.herokuapp.com/all/".concat(this.state.page),{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(t){e.setState(Object(C.a)({data:t},"data",t))})).catch((function(e){console.error("Error:",e)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.state.page!==t.page){var n=window.sessionStorage.getItem("key");console.log(n),fetch("https://stackhack-api.herokuapp.com/all/".concat(this.state.page),{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(e){a.setState(Object(C.a)({data:e},"data",e))})).catch((function(e){console.error("Error:",e)}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return c.a.createElement("div",null,c.a.createElement("div",{className:"row justify-items-start"},c.a.createElement("div",{className:"col-3"},c.a.createElement(_,null)),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"mt-3 pt-3"},c.a.createElement("h2",{className:"p-2"},"Registration Details"),c.a.createElement(D.a,{style:{width:"75%"},className:"mt-3"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Date"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"},c.a.createElement(u.b,{to:{pathname:"/admin/regn/".concat(e.id),state:{id:"".concat(e.id)}}},e.id)),c.a.createElement("td",null,e.name),c.a.createElement("td",null," ",e.date))}))))),c.a.createElement("div",{className:"d-flex flex-row-reverse"},c.a.createElement(R.a,{"aria-label":"Page navigation example"},c.a.createElement(T.a,null,c.a.createElement(A.a,{previous:!0,onClick:function(t){e.setState({page:e.state.page-1})}})),c.a.createElement(T.a,null,c.a.createElement(A.a,{next:!0,onClick:function(t){e.setState({page:e.state.page+1})}})))))))}}]),a}(n.Component)),M=Object(d.e)(I),P=a(110),U=a(111),W=a(112),J=a(113),z=a(114),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).delete=function(e){fetch("https://stackhack-api.herokuapp.com/details/".concat(n.state.id),{method:"DELETE",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(e){window.location.href="/Event-Management-Webapp/#/admin"})).catch((function(e){console.error("Error:",e)}))},n.state={id:n.props.history.location.state.id,data:{}},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=window.sessionStorage.getItem("key");console.log(t),fetch("https://stackhack-api.herokuapp.com/details/".concat(this.state.id),{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(t){e.setState(Object(C.a)({data:t},"data",t))})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"row justify-items-start"},c.a.createElement("div",{className:"col-3"},c.a.createElement(_,null)),c.a.createElement("div",{className:"col-6 pt-3 mt-3"},c.a.createElement("div",null,c.a.createElement(P.a,{className:"mt-4"},c.a.createElement(U.a,{top:!0,width:"100%",height:"400px",src:this.state.data.id_card,alt:"Card image cap"}),c.a.createElement(W.a,null,c.a.createElement(J.a,null,this.state.data.name,"'s Registration Details"),c.a.createElement(z.a,null,"Email : ",this.state.data.email," ",c.a.createElement("br",null),"Phone : ",this.state.data.mob_no," ",c.a.createElement("br",null),"Registration Type : ",this.state.data.regn_type," ",c.a.createElement("br",null),"Number of Tickets : ",this.state.data.num_guests),c.a.createElement(E.a,{color:"danger",onClick:this.delete},"Delete"))))))}}]),a}(n.Component),F=a(15),G=a(55),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={data:[[]]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://stackhack-api.herokuapp.com/stats",{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(t){console.log("Success:",t),e.setState(Object(C.a)({data:t},"data",t))})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"row justify-items-start"},c.a.createElement("div",{className:"col-3"},c.a.createElement(_,null)),c.a.createElement("div",{className:"col-6 pt-3 mt-3"},c.a.createElement(G.a,{width:"1000px",height:"600px",chartType:"PieChart",loader:c.a.createElement("div",null,"Loading Chart"),data:[["Registration type","No of registrations"]].concat(Object(F.a)(this.state.data)),options:{title:"Registration type Pie Chart"},rootProps:{"data-testid":"1"}})))}}]),a}(n.Component),q=a(11),Y=(a(51),a(52),a(116)),V=a(62),X=a(118),Z=a(63),$=a(115),K=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).submit=function(t){t.preventDefault(),""!==e.props.response.name&&""!==e.props.response.mob_no&&""!==e.props.response.email&&e.props.captcha?(console.log(e.props.response),fetch("https://stackhack-api.herokuapp.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.props.response)}).then((function(e){return e.json()})).then((function(e){alert("Registration successful. Your registration id is ".concat(e.id)),window.location.href="/Event-Management-Webapp/#/"})).catch((function(e){console.error("Error:",e)}))):(console.log(e.props.captcha),alert("You have not filled the form correctly"))},e}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement($.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),c.a.createElement($.a.Header,{closeButton:!0},c.a.createElement($.a.Title,{id:"contained-modal-title-vcenter"},"Preview Form before submitting")),c.a.createElement($.a.Body,null,c.a.createElement("h4",null,"Form Details"),c.a.createElement("p",null,"Full Name : ",this.props.response.name," ",c.a.createElement("br",null),"Mobile no : ",this.props.response.mob_no," ",c.a.createElement("br",null),"Email id : ",this.props.response.email," ",c.a.createElement("br",null),"Registration Type : ",this.props.response.regn_type," ",c.a.createElement("br",null),"Number of guests : ",this.props.response.num_guests)),c.a.createElement($.a.Footer,null,c.a.createElement("input",{id:"submit",type:"submit",value:"Submit",className:"btn btn-success",onClick:this.submit}),c.a.createElement(X.a,{variant:"danger",onClick:this.props.onHide},"Close")))}}]),a}(n.Component),Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e,n){var c;return Object(r.a)(this,a),(c=t.call(this,e,n)).getbase64=function(e){var t=c.state.response;t.idcard=e,c.setState({response:t})},c.toDataURL=function(e,t){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(a.response)},a.open("GET",e),a.responseType="blob",a.send()},c.inputChanged=function(e){var t=c.state.response;t[e.target.name]=e.target.value,c.setState({response:t})},c.handleUpload=function(e){var t=document.getElementById("output");t.src=URL.createObjectURL(e.target.files[0]),c.toDataURL(t.src,c.getbase64),t.height=200,t.width=400,t.onload=function(){URL.revokeObjectURL(t.src)}},c.handleregn=function(e){var t=document.getElementById("num_guests");if("Self"!==c.state.response.regn_type){t.disabled=!1;var a=c.state.response;a.num_guests=2,c.setState({response:a}),t.min=2}else{var n=c.state.response;n.num_guests=1,c.setState({response:n}),t.disabled=!0}},c.verifyCaptcha=function(e){e&&(console.log("DONE"),c.setState({captcha:!0}))},c.state={response:{name:"",mob_no:"",email:"",idcard:"",regn_type:"Self",num_guests:"1"},modalShow:!1,captcha:!1},c.inputChanged=c.inputChanged.bind(Object(q.a)(c)),c.handleUpload=c.handleUpload.bind(Object(q.a)(c)),c.verifyCaptcha=c.verifyCaptcha.bind(Object(q.a)(c)),c.onLoadRecaptcha=c.onLoadRecaptcha.bind(Object(q.a)(c)),c}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.captchaDemo&&(console.log("started, just a second..."),this.captchaDemo.reset())}},{key:"onLoadRecaptcha",value:function(){this.captchaDemo&&(console.log(1),this.captchaDemo.reset())}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"jumbotron jumbotron-billboard mt-1"},c.a.createElement("div",{className:"img"}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("h2",{className:"display-3"},"Stack Hack 1.0"),c.a.createElement("p",{className:"lead"},"Register for our upcoming event"))))),c.a.createElement("legend",{className:"ml-4"},"Event Registration"),c.a.createElement(Y.a,{className:"m-4 p-3"},c.a.createElement("div",{className:"row justify-content-around"},c.a.createElement("div",{className:"col-12 col-md-6 order-last"},c.a.createElement("img",{id:"output",className:"row ml-3 p-2",alt:""}),c.a.createElement(V.a,{className:"row"},c.a.createElement("div",{className:"col-8 col-md-2 mt-2 idcard"},"ID Card"),c.a.createElement(Y.a.Label,{className:"col-10 col-md-5"},c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("div",{className:"custom-file"},c.a.createElement("input",{className:"custom-file-input",type:"file",id:"custom-file",name:"idcard",onChange:this.handleUpload,custom:"true"}),c.a.createElement("label",{className:"custom-file-label"},"Choose file")))))),c.a.createElement("div",{className:"col-12 col-md-6 order-first"},c.a.createElement(V.a,{className:"row"},c.a.createElement("div",{className:"col-8 col-md-2"},"Full Name"),c.a.createElement(Y.a.Label,{className:"col-10 col-md-7"},c.a.createElement("input",{className:"form-control",type:"text",name:"name",value:this.state.response.name,onChange:this.inputChanged}))),c.a.createElement(V.a,{className:"row"},c.a.createElement("div",{className:"col-8 col-md-2"}," mob_no Number"),c.a.createElement(Y.a.Label,{className:"col-10 col-md-7"},c.a.createElement("input",{className:"form-control",type:"text",name:"mob_no",value:this.state.response.mob_no,onChange:this.inputChanged}))),c.a.createElement(V.a,{className:"row"},c.a.createElement("div",{className:"col-8 col-md-2"},"Email"),c.a.createElement(Y.a.Label,{className:"col-10 col-md-7"},c.a.createElement("input",{className:"form-control",type:"email",name:"email",value:this.state.response.email,onChange:this.inputChanged}))),c.a.createElement(V.a,{className:"row"},c.a.createElement("div",{className:"col-8 col-md-2"},"Registration type"),c.a.createElement(Y.a.Label,{className:"col-10 col-md-7"},c.a.createElement("select",{className:"form-control",id:"regn_type",name:"regn_type",value:this.state.response.regn_type,onChange:function(t){e.inputChanged(t),e.handleregn(t)}},c.a.createElement("option",null,"Self"),c.a.createElement("option",null,"Group"),c.a.createElement("option",null,"Corporate"),c.a.createElement("option",null,"Others")))),c.a.createElement(V.a,{className:"row"},c.a.createElement("div",{className:"col-8 col-md-2"},"Number of tickets"),c.a.createElement(Y.a.Label,{className:"col-10 col-md-7"},c.a.createElement("input",{className:"form-control",id:"num_guests",disabled:!0,type:"number",min:"1",name:"num_guests",value:this.state.response.num_guests,onChange:this.inputChanged}))),c.a.createElement(V.a,{className:"row"},c.a.createElement(Z.a,{ref:function(t){e.captchaDemo=t},render:"explicit",sitekey:"6Lf10P0UAAAAAEAIMcsxIWVn1Yvmy5EIpSxMxuZr",onloadCallback:this.onLoadRecaptcha,onChange:this.verifyCaptcha})))),c.a.createElement(X.a,{variant:"warning",onClick:function(){return e.setState({modalShow:!0})}},"Preview"),c.a.createElement(K,{response:this.state.response,captcha:this.state.captcha,show:this.state.modalShow,onHide:function(){return e.setState({modalShow:!1})}})))}}]),a}(n.Component),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Q,null))}}]),a}(n.Component),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement(u.a,null,c.a.createElement(d.a,{exact:!0,path:"/"},c.a.createElement("div",null,c.a.createElement(O,null))),c.a.createElement(d.a,{exact:!0,path:"/register"},c.a.createElement("div",null,c.a.createElement(ee,null))),c.a.createElement(d.a,{exact:!0,path:"/admin"},c.a.createElement("div",null,c.a.createElement(M,null))),c.a.createElement(d.a,{exact:!0,path:"/admin/regn/:id",component:B}),c.a.createElement(d.a,{exact:!0,path:"/admin/stats",component:H}))}}]),a}(n.Component);var ae=function(){return c.a.createElement(u.a,null,c.a.createElement(te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.9d1344b9.chunk.js.map