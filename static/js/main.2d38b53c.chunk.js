(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,a){},68:function(e,t,a){e.exports=a(94)},73:function(e,t,a){},74:function(e,t,a){},90:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(23),c=a.n(r),o=(a(73),a(18)),s=a(19),i=a(21),m=a(20),u=a(25),d=a(13),p=(a(74),a(29)),h=a(65),E=a(96),g=a(118),f=a(97),b=a(98),v=a(99),N=a(100),y=a(101),w=a(102),k=a(103),j=function(e){var t=e.buttonLabel,a=e.className,r=Object(h.a)(),c=r.register,o=r.handleSubmit,s=Object(n.useState)(!1),i=Object(p.a)(s,2),m=i[0],u=i[1],d=function(){return u(!m)},j=l.a.createElement("button",{className:"close",onClick:d},"\xd7");return l.a.createElement("div",null,l.a.createElement(E.a,{size:"lg",color:"outline-warning",onClick:d},t,"Admin Login"),l.a.createElement(g.a,{isOpen:m,toggle:d,className:a},l.a.createElement(f.a,{toggle:d,close:j},"Admin Login"),l.a.createElement(b.a,{onSubmit:o((function(e){console.log(e),fetch("https://stackhack-api.herokuapp.com/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("Successfully logged in"),window.sessionStorage.setItem("key",e.access_token),window.location.href="/Event-Management-Webapp/#/admin"})).catch((function(e){console.error("Error:",e)}))}))},l.a.createElement(v.a,null,l.a.createElement(N.a,{row:!0},l.a.createElement(y.a,{for:"exampleEmail",sm:2},"Email"),l.a.createElement(w.a,{sm:10},l.a.createElement("input",{className:"form-control",type:"email",name:"username",id:"Email",placeholder:"username@example.com",defaultValue:"",ref:c({required:!0,maxLength:30})}))),l.a.createElement(N.a,{row:!0},l.a.createElement(y.a,{for:"examplePassword",sm:2},"Password"),l.a.createElement(w.a,{sm:10},l.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"Password",placeholder:"password",ref:c({required:!0,maxLength:30})})))),l.a.createElement(k.a,null,l.a.createElement("input",{className:"btn btn-success",type:"submit",name:"login",value:"Login"})))))},O=function(){return l.a.createElement("div",{className:"lp"},l.a.createElement("div",{className:"row justify-content-end mr-4 pt-2"},l.a.createElement(j,null)),l.a.createElement("header",{id:"showcase"},l.a.createElement("div",{className:"container showcase-content"},l.a.createElement("h1",null,"StackHack 1.0"),l.a.createElement("br",null),l.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, quasi quam tenetur exercitationem sint suscipit ipsum in pariatur officiis mollitia!"),l.a.createElement(u.b,{to:"/register",className:"bttn",style:{textDecoration:"none",color:"inherit"}},"Register Now!"))))},C=a(11),S=a(104),x=a(105),L=a(106),_=function(){return l.a.createElement("div",{className:"col-6 col-md-3"},l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("h3",null,"Admin Dashboard")),l.a.createElement("div",{className:"side-menu"},l.a.createElement(S.a,{vertical:!0,className:"list-unstyled pb-3"},l.a.createElement(x.a,{className:"navitem"},l.a.createElement(L.a,{className:"navlink",tag:u.b,to:"/admin"},"Dashboard"),l.a.createElement(L.a,{className:"navlink",tag:u.b,to:"/admin/stats"},"Stats")),l.a.createElement("center",{className:"mt-2 p-2"},l.a.createElement(E.a,{outline:!0,color:"danger",onClick:function(e){window.sessionStorage.removeItem("key"),window.location.href="/Event-Management-Webapp/#/"}},"Logout"))))))},T=a(107),R=a(108),D=a(109),A=a(110),I=(a(90),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],page:1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://stackhack-api.herokuapp.com/all/".concat(this.state.page),{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(t){e.setState(Object(C.a)({data:t},"data",t))})).catch((function(e){console.error("Error:",e)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.state.page!==t.page){var n=window.sessionStorage.getItem("key");console.log(n),fetch("https://stackhack-api.herokuapp.com/all/".concat(this.state.page),{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(e){a.setState(Object(C.a)({data:e},"data",e))})).catch((function(e){console.error("Error:",e)}))}}},{key:"render",value:function(){var e=this,t=this.state.data;return l.a.createElement("div",null,l.a.createElement("div",{className:"row justify-items-start"},l.a.createElement("div",{className:"col-3"},l.a.createElement(_,null)),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"mt-3 pt-3"},l.a.createElement("h2",{className:"p-2"},"Registration Details"),l.a.createElement(T.a,{style:{width:"75%"},className:"mt-3"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Date"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},l.a.createElement(u.b,{to:{pathname:"/admin/regn/".concat(e.id),state:{id:"".concat(e.id)}}},e.id)),l.a.createElement("td",null,e.name),l.a.createElement("td",null," ",e.date))}))))),l.a.createElement("div",{className:"d-flex flex-row-reverse"},l.a.createElement(R.a,{"aria-label":"Page navigation example"},l.a.createElement(D.a,null,l.a.createElement(A.a,{previous:!0,onClick:function(t){e.setState({page:e.state.page-1})}})),l.a.createElement(D.a,null,l.a.createElement(A.a,{next:!0,onClick:function(t){e.setState({page:e.state.page+1})}})))))))}}]),a}(n.Component)),M=Object(d.e)(I),P=a(111),U=a(112),W=a(113),J=a(114),z=a(115),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).delete=function(e){fetch("https://stackhack-api.herokuapp.com/details/".concat(n.state.id),{method:"DELETE",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(e){window.location.href="/Event-Management-Webapp/#/admin"})).catch((function(e){console.error("Error:",e)}))},n.state={id:n.props.history.location.state.id,data:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.sessionStorage.getItem("key");console.log(t),fetch("https://stackhack-api.herokuapp.com/details/".concat(this.state.id),{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(t){e.setState(Object(C.a)({data:t},"data",t))})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"row justify-items-start"},l.a.createElement("div",{className:"col-3"},l.a.createElement(_,null)),l.a.createElement("div",{className:"col-6 pt-3 mt-3"},l.a.createElement("div",null,l.a.createElement(P.a,{className:"mt-4"},l.a.createElement(U.a,{top:!0,width:"100%",height:"400px",src:this.state.data.id_card,alt:"Card image cap"}),l.a.createElement(W.a,null,l.a.createElement(J.a,null,this.state.data.name,"'s Registration Details"),l.a.createElement(z.a,null,"Email : ",this.state.data.email," ",l.a.createElement("br",null),"Phone : ",this.state.data.mob_no," ",l.a.createElement("br",null),"Registration Type : ",this.state.data.regn_type," ",l.a.createElement("br",null),"Number of Tickets : ",this.state.data.num_guests),l.a.createElement(E.a,{color:"danger",onClick:this.delete},"Delete"))))))}}]),a}(n.Component),F=a(15),G=a(55),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[[]]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://stackhack-api.herokuapp.com/stats",{method:"GET",headers:{Authorization:"JWT ".concat(window.sessionStorage.getItem("key"))}}).then((function(e){return e.json()})).then((function(t){console.log("Success:",t),e.setState(Object(C.a)({data:t},"data",t))})).catch((function(e){console.error("Error:",e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"row justify-items-start"},l.a.createElement("div",{className:"col-3"},l.a.createElement(_,null)),l.a.createElement("div",{className:"col-6 pt-3 mt-3"},l.a.createElement(G.a,{width:"1000px",height:"600px",chartType:"PieChart",loader:l.a.createElement("div",null,"Loading Chart"),data:[["Registration type","No of registrations"]].concat(Object(F.a)(this.state.data)),options:{title:"Registration type Pie Chart"},rootProps:{"data-testid":"1"}})))}}]),a}(n.Component),q=a(12),Y=(a(51),a(52),a(57)),V=a.n(Y),X=a(117),Z=a(63),$=a(119),K=a(64),Q=a(116),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).submit=function(t){t.preventDefault(),""===e.props.response.name||""===e.props.response.mob_no||""===e.props.response.email||null==e.props.captcha?alert("You have not filled the form correctly"):(console.log(e.props.response),fetch("https://stackhack-api.herokuapp.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.props.response)}).then((function(e){return e.json()})).then((function(e){alert("Registration successful. Your registration id is ".concat(e.id)),window.location.href="/Event-Management-Webapp/#/"})).catch((function(e){console.error("Error:",e)})))},e}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(Q.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(Q.a.Header,{closeButton:!0},l.a.createElement(Q.a.Title,{id:"contained-modal-title-vcenter"},"Preview Form before submitting")),l.a.createElement(Q.a.Body,null,l.a.createElement("h4",null,"Form Details"),l.a.createElement("p",null,"Full Name : ",this.props.response.name," ",l.a.createElement("br",null),"Mobile no : ",this.props.response.mob_no," ",l.a.createElement("br",null),"Email id : ",this.props.response.email," ",l.a.createElement("br",null),"Registration Type : ",this.props.response.regn_type," ",l.a.createElement("br",null),"Number of guests : ",this.props.response.num_guests)),l.a.createElement(Q.a.Footer,null,l.a.createElement("input",{id:"submit",type:"submit",value:"Submit",className:"btn btn-success",onClick:this.submit}),l.a.createElement($.a,{variant:"danger",onClick:this.props.onHide},"Close")))}}]),a}(n.Component),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getbase64=function(e){var t=n.state.response;t.idcard=e,n.setState({response:t})},n.toDataURL=function(e,t){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(a.response)},a.open("GET",e),a.responseType="blob",a.send()},n.inputChanged=function(e){var t=n.state.response;t[e.target.name]=e.target.value,n.setState({response:t})},n.handleUpload=function(e){var t=document.getElementById("output");t.src=URL.createObjectURL(e.target.files[0]),n.toDataURL(t.src,n.getbase64),t.height=200,t.width=400,t.onload=function(){URL.revokeObjectURL(t.src)}},n.handleregn=function(e){var t=document.getElementById("num_guests");if("Self"!==n.state.response.regn_type){t.disabled=!1;var a=n.state.response;a.num_guests=2,n.setState({response:a}),t.min=2}else{var l=n.state.response;l.num_guests=1,n.setState({response:l}),t.disabled=!0}},n.state={response:{name:"",mob_no:"",email:"",idcard:"",regn_type:"Self",num_guests:"1"},modalShow:!1,captcha:null},n.inputChanged=n.inputChanged.bind(Object(q.a)(n)),n.handleUpload=n.handleUpload.bind(Object(q.a)(n)),n}return Object(s.a)(a,[{key:"onChange",value:function(e){console.log("Captcha value:",e),this.setState({captcha:e})}},{key:"componentDidMount",value:function(){V.a.init()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"jumbotron jumbotron-billboard mt-1"},l.a.createElement("div",{className:"img"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h2",{className:"display-3"},"Stack Hack 1.0"),l.a.createElement("p",{className:"lead"},"Register for our upcoming event"))))),l.a.createElement("legend",{className:"ml-4"},"Event Registration"),l.a.createElement(X.a,{className:"m-4 p-3"},l.a.createElement("div",{className:"row justify-content-around"},l.a.createElement("div",{className:"col-12 col-md-6 order-last"},l.a.createElement("img",{id:"output",className:"row ml-3 p-2",alt:""}),l.a.createElement(Z.a,{className:"row"},l.a.createElement("div",{className:"col-8 col-md-2 mt-2 idcard"},"ID Card"),l.a.createElement(X.a.Label,{className:"col-10 col-md-5"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{className:"custom-file-input",type:"file",id:"custom-file",name:"idcard",onChange:this.handleUpload,custom:"true"}),l.a.createElement("label",{className:"custom-file-label"},"Choose file")))))),l.a.createElement("div",{className:"col-12 col-md-6 order-first"},l.a.createElement(Z.a,{className:"row"},l.a.createElement("div",{className:"col-8 col-md-2"},"Full Name"),l.a.createElement(X.a.Label,{className:"col-10 col-md-7"},l.a.createElement("input",{className:"form-control",type:"text",name:"name",value:this.state.response.name,onChange:this.inputChanged}))),l.a.createElement(Z.a,{className:"row"},l.a.createElement("div",{className:"col-8 col-md-2"}," mob_no Number"),l.a.createElement(X.a.Label,{className:"col-10 col-md-7"},l.a.createElement("input",{className:"form-control",type:"text",name:"mob_no",value:this.state.response.mob_no,onChange:this.inputChanged}))),l.a.createElement(Z.a,{className:"row"},l.a.createElement("div",{className:"col-8 col-md-2"},"Email"),l.a.createElement(X.a.Label,{className:"col-10 col-md-7"},l.a.createElement("input",{className:"form-control",type:"email",name:"email",value:this.state.response.email,onChange:this.inputChanged}))),l.a.createElement(Z.a,{className:"row"},l.a.createElement("div",{className:"col-8 col-md-2"},"Registration type"),l.a.createElement(X.a.Label,{className:"col-10 col-md-7"},l.a.createElement("select",{className:"form-control",id:"regn_type",name:"regn_type",value:this.state.response.regn_type,onChange:function(t){e.inputChanged(t),e.handleregn(t)}},l.a.createElement("option",null,"Self"),l.a.createElement("option",null,"Group"),l.a.createElement("option",null,"Corporate"),l.a.createElement("option",null,"Others")))),l.a.createElement(Z.a,{className:"row"},l.a.createElement("div",{className:"col-8 col-md-2"},"Number of tickets"),l.a.createElement(X.a.Label,{className:"col-10 col-md-7"},l.a.createElement("input",{className:"form-control",id:"num_guests",disabled:!0,type:"number",min:"1",name:"num_guests",value:this.state.response.num_guests,onChange:this.inputChanged}))),l.a.createElement(Z.a,{className:"row"},l.a.createElement(K.a,{sitekey:"6Lf10P0UAAAAAEAIMcsxIWVn1Yvmy5EIpSxMxuZr",onChange:this.onChange})))),l.a.createElement($.a,{variant:"warning",onClick:function(){return e.setState({modalShow:!0})}},"Preview"),l.a.createElement(ee,{response:this.state.response,captcha:this.state.captcha,show:this.state.modalShow,onHide:function(){return e.setState({modalShow:!1})}})))}}]),a}(n.Component),ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(te,null))}}]),a}(n.Component),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement(d.a,{exact:!0,path:"/"},l.a.createElement("div",null,l.a.createElement(O,null))),l.a.createElement(d.a,{exact:!0,path:"/register"},l.a.createElement("div",null,l.a.createElement(ae,null))),l.a.createElement(d.a,{exact:!0,path:"/admin"},l.a.createElement("div",null,l.a.createElement(M,null))),l.a.createElement(d.a,{exact:!0,path:"/admin/regn/:id",component:B}),l.a.createElement(d.a,{exact:!0,path:"/admin/stats",component:H}))}}]),a}(n.Component);var le=function(){return l.a.createElement(u.a,null,l.a.createElement(ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.2d38b53c.chunk.js.map